<header class="site-header">
  <nav class="site-nav" aria-label="Primary">
    <a href="{{ "/" | relURL }}" class="site-title" aria-label="Yuhi Home">
      <span class="site-title-kanji">夕陽</span>
      <span class="site-title-roman">YUHI</span>
    </a>

    {{ $current := trim $.RelPermalink "/" }}
    {{ $items := slice
      (dict "name" "Home" "url" "/")
      (dict "name" "Blog" "url" "/blog/")
      (dict "name" "Journal" "url" "/journal/")
      (dict "name" "System" "url" "/architecture/")
      (dict "name" "Improvement" "url" "/improvement/")
      (dict "name" "About" "url" "/about/")
    }}

    <ul class="nav-links">
      {{ range $items }}
      {{ $target := trim .url "/" }}
      {{ $active := false }}
      {{ if eq $target "" }}
        {{ $active = eq $current "" }}
      {{ else }}
        {{ $active = or (eq $current $target) (hasPrefix $current (printf "%s/" $target)) }}
      {{ end }}
      <li><a href="{{ .url | relURL }}"{{ if $active }} class="active" aria-current="page"{{ end }}>{{ .name }}</a></li>
      {{ end }}
    </ul>
  </nav>
</header>
