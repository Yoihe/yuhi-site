/* ========================================
   Yūhi (夕陽) - Pokemon Command Theme
   ======================================== */

*, *::before, *::after {
  box-sizing: border-box;
}

:root {
  --poke-red: #ee1515;
  --poke-red-deep: #b40d0d;
  --poke-blue: #2a75bb;
  --poke-blue-deep: #1d2c5e;
  --poke-blue-void: #142143;
  --poke-yellow: #ffcb05;
  --poke-cream: #fff4cf;
  --ui-bg: #0f2f6a;
  --ui-bg-deep: #0b1f46;
  --ui-bg-darker: #09132d;
  --ui-line: #84a8de;
  --ui-line-strong: #ffdc6d;
  --text-main: #f4f8ff;
  --text-soft: #cfdef8;
  --text-muted: #9eb6df;
  --shadow-hard: rgba(7, 15, 33, 0.62);

  --container: 1120px;
  --radius-sm: 8px;
  --radius-md: 14px;
  --radius-lg: 20px;

  --space-1: 0.75rem;
  --space-2: 1.2rem;
  --space-3: 1.8rem;
  --space-4: 2.7rem;
  --space-5: 4rem;
  --space-6: 5.6rem;

  --font-body: "Exo 2", "Zen Kaku Gothic New", sans-serif;
  --font-display: "Teko", "Zen Kaku Gothic New", sans-serif;
  --font-pixel: "Silkscreen", "JetBrains Mono", monospace;
  --font-code: "JetBrains Mono", monospace;
}

html {
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: var(--font-body);
  line-height: 1.72;
  color: var(--text-main);
  background:
    radial-gradient(circle at 14% -10%, rgba(255, 203, 5, 0.2), transparent 38%),
    radial-gradient(circle at 88% 5%, rgba(238, 21, 21, 0.17), transparent 35%),
    linear-gradient(180deg, #183874 0%, #1f4f92 46%, #275eab 100%);
  overflow-x: hidden;
  position: relative;
}

.skip-link {
  position: absolute;
  left: 1rem;
  top: -50px;
  z-index: 100;
  padding: 0.5rem 0.84rem;
  border-radius: 999px;
  border: 2px solid var(--poke-blue-deep);
  background: var(--poke-cream);
  color: #2b1a06;
  font-weight: 700;
  font-size: 0.78rem;
}

.skip-link:focus {
  top: 0.85rem;
}

body::before,
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
}

body::before {
  background:
    radial-gradient(circle at 50% 36%, rgba(255, 255, 255, 0.88) 0 27px, transparent 28px),
    radial-gradient(circle at 50% 36%, rgba(255, 255, 255, 0.22) 0 165px, transparent 166px),
    linear-gradient(to bottom, transparent calc(36% - 1px), rgba(255, 255, 255, 0.3) calc(36% - 1px), rgba(255, 255, 255, 0.3) calc(36% + 1px), transparent calc(36% + 1px));
  opacity: 0.18;
}

body::after {
  background:
    repeating-linear-gradient(0deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05) 1px, transparent 1px, transparent 5px),
    repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.04) 1px, transparent 1px, transparent 5px);
  opacity: 0.2;
}

.site-shell {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.content,
.site-nav,
.site-footer {
  width: min(var(--container), calc(100% - 3rem));
  margin: 0 auto;
}

.site-main {
  flex: 1;
  padding: var(--space-5) 0 var(--space-6);
}

.site-main > * {
  animation: rise 520ms ease-out both;
}

p {
  margin: 0 0 var(--space-3);
  color: var(--text-soft);
}

a {
  color: #9cd8ff;
  text-decoration: none;
  transition: color 120ms ease, background-color 120ms ease, border-color 120ms ease;
}

a:hover {
  color: #d6efff;
}

a:focus-visible,
button:focus-visible,
summary:focus-visible {
  outline: 2px solid var(--poke-yellow);
  outline-offset: 3px;
}

h1, h2, h3, h4 {
  margin: 0 0 var(--space-2);
  line-height: 1.12;
  color: var(--text-main);
  letter-spacing: 0.02em;
  font-family: var(--font-display);
  font-weight: 600;
  text-transform: uppercase;
}

h1 {
  font-size: clamp(2.3rem, 7.4vw, 4.8rem);
}

h2 {
  margin-top: var(--space-5);
  font-size: clamp(1.6rem, 4vw, 2.8rem);
}

h3 {
  margin-top: var(--space-3);
  font-size: clamp(1.18rem, 3vw, 1.85rem);
}

ul, ol {
  margin: 0 0 var(--space-3);
  padding-left: 1.3rem;
}

li {
  margin-bottom: 0.45rem;
  color: var(--text-soft);
}

table {
  width: 100%;
  border-collapse: collapse;
  margin: var(--space-3) 0;
  border: 2px solid #365f9f;
  box-shadow: 5px 5px 0 var(--shadow-hard);
}

th,
td {
  border: 1px solid #365f9f;
  padding: 0.56rem 0.62rem;
  text-align: left;
}

th {
  font-family: var(--font-pixel);
  font-size: 0.62rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: #fff2c7;
  background: linear-gradient(180deg, #2a4f89, #1c3766);
}

td {
  background: rgba(11, 28, 63, 0.78);
}

blockquote {
  margin: var(--space-4) 0;
  padding: 0.86rem 1rem 0.9rem 1.2rem;
  border-left: 4px solid var(--poke-yellow);
  background: rgba(255, 203, 5, 0.1);
  color: #ffeab2;
}

hr {
  border: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, #6f9fe1, transparent);
  margin: var(--space-4) 0;
}

code {
  font-family: var(--font-code);
  font-size: 0.84em;
  padding: 0.13rem 0.35rem;
  border-radius: 5px;
  color: #e8f0ff;
  background: rgba(8, 20, 50, 0.88);
  border: 1px solid #4d73b2;
}

pre {
  margin: var(--space-4) 0;
  padding: 1rem 1.08rem;
  border-radius: var(--radius-sm);
  background: rgba(7, 17, 41, 0.96);
  border: 2px solid #3b629f;
  box-shadow: 4px 4px 0 var(--shadow-hard);
  overflow-x: auto;
}

pre code {
  border: 0;
  padding: 0;
  background: transparent;
}

.hero-card,
.page-hero,
.section-block,
.post-card {
  position: relative;
  border: 2px solid #4e78ba;
  border-radius: var(--radius-lg);
  background: linear-gradient(180deg, rgba(20, 46, 94, 0.96), rgba(12, 31, 67, 0.97));
  box-shadow: 7px 7px 0 var(--shadow-hard);
  overflow: hidden;
}

.hero-card::before,
.page-hero::before,
.section-block::before,
.post-card::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(90deg, rgba(255, 255, 255, 0.04) 0 1px, transparent 1px 10px),
    linear-gradient(0deg, rgba(255, 255, 255, 0.035) 0 1px, transparent 1px 10px);
  opacity: 0.18;
  pointer-events: none;
}

.hero-card,
.page-hero,
.post-card {
  padding: clamp(1.3rem, 3vw, 2.4rem);
}

.section-block {
  margin-top: var(--space-4);
  padding: clamp(1.2rem, 2.8vw, 2rem);
}

.hero-battle {
  border-color: #5b89cf;
}

.hero-grid {
  display: grid;
  grid-template-columns: 1.3fr 1fr;
  gap: 1rem;
}

.hero-command {
  min-width: 0;
}

.hero-kicker {
  display: inline-flex;
  margin: 0 0 var(--space-1);
  padding: 0.2rem 0.56rem;
  border: 1px solid #ffda77;
  border-radius: 6px;
  font-family: var(--font-pixel);
  font-size: 0.6rem;
  letter-spacing: 0.04em;
  line-height: 1.42;
  color: #fff0c2;
  text-transform: uppercase;
  background: rgba(255, 203, 5, 0.12);
}

.hero-title {
  max-width: 16ch;
  margin-bottom: 0.9rem;
  color: #f4f8ff;
  text-shadow: 3px 3px 0 rgba(7, 15, 33, 0.85);
}

.hero-content {
  max-width: 68ch;
}

.hero-content p:last-child,
.list-description p:last-child {
  margin-bottom: 0;
}

.hero-actions {
  margin-top: 1.35rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.56rem;
}

.btn-battle,
.btn-outline {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  border: 2px solid transparent;
  padding: 0.46rem 0.86rem;
  font-family: var(--font-pixel);
  font-size: 0.62rem;
  letter-spacing: 0.04em;
  line-height: 1.45;
  text-transform: uppercase;
  box-shadow: 3px 3px 0 var(--shadow-hard);
}

.btn-battle {
  color: #281503;
  border-color: #ffebad;
  background: var(--poke-yellow);
}

.btn-battle:hover {
  color: #241203;
  background: #ffda55;
}

.btn-outline {
  color: #ebf2ff;
  border-color: #8fb2e7;
  background: #163975;
}

.btn-outline:hover {
  color: #201101;
  border-color: #ffe08a;
  background: #ffd25d;
}

.hero-badges {
  margin-top: 0.9rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.45rem;
}

.hero-badges span {
  display: inline-block;
  padding: 0.2rem 0.48rem;
  border-radius: 6px;
  border: 1px solid #7fa5de;
  background: #113165;
  color: #e6efff;
  font-family: var(--font-pixel);
  font-size: 0.52rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.hero-console {
  align-self: start;
  border: 2px solid #6d97d6;
  border-radius: 10px;
  background: linear-gradient(180deg, rgba(10, 24, 53, 0.94), rgba(9, 20, 46, 0.96));
  box-shadow: 4px 4px 0 var(--shadow-hard);
  padding: 0.8rem;
}

.console-kicker {
  margin: 0 0 0.6rem;
  font-family: var(--font-pixel);
  font-size: 0.58rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: #ffe7a1;
}

.mini-roster {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 0.32rem;
}

.mini-roster li {
  margin: 0;
  padding: 0.34rem 0.44rem;
  border-radius: 6px;
  border: 1px solid #3f659f;
  background: #102a59;
  color: #eff5ff;
  font-family: var(--font-code);
  font-size: 0.84rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.6rem;
}

.mini-roster small {
  font-family: var(--font-pixel);
  font-size: 0.5rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: #ffe4a4;
}

.command-stat {
  margin-top: 0.58rem;
  padding: 0.46rem 0.52rem;
  border-radius: 6px;
  border: 1px solid #6a93d2;
  background: rgba(23, 55, 110, 0.85);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.command-stat span {
  font-family: var(--font-pixel);
  font-size: 0.5rem;
  text-transform: uppercase;
  color: #f8e7ae;
}

.command-stat strong {
  font-family: var(--font-code);
  font-size: 0.82rem;
  color: #d5ffcb;
  text-transform: uppercase;
}

.section-head {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 1rem;
  margin-bottom: var(--space-2);
}

.section-head h2 {
  margin: 0;
  font-size: 1.95rem;
}

.section-link {
  display: inline-flex;
  align-items: center;
  border-radius: 6px;
  border: 2px solid #ffd25f;
  background: #163978;
  color: #fff2c9;
  padding: 0.28rem 0.66rem;
  font-family: var(--font-pixel);
  font-size: 0.58rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  box-shadow: 2px 2px 0 var(--shadow-hard);
}

.section-link:hover {
  color: #271302;
  background: var(--poke-yellow);
  border-color: #ffeaad;
}

.formation {
  border-color: #5a89ce;
}

.formation-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 0.8rem;
}

.formation-card {
  border: 2px solid #4b75b7;
  border-radius: var(--radius-md);
  padding: 1rem;
  background: linear-gradient(180deg, #12346e, #0d2758);
  box-shadow: 4px 4px 0 var(--shadow-hard);
}

.formation-card h3 {
  margin-top: 0;
  margin-bottom: 0.42rem;
  font-size: 1.4rem;
}

.formation-card p {
  margin: 0;
  font-size: 0.98rem;
}

.formation-step {
  margin-bottom: 0.38rem !important;
  font-family: var(--font-pixel);
  font-size: 0.52rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: #ffe399 !important;
}

.formation-card.leader {
  border-top-color: var(--poke-yellow);
}

.formation-card.core {
  border-top-color: #7cc2ff;
}

.formation-card.support {
  border-top-color: #ff8a8a;
}

.roster-showcase {
  border-color: #6b95d4;
}

.roster-grid {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 0.52rem;
}

.roster-grid li {
  margin: 0;
  border-radius: 6px;
  border: 2px solid #5f89ca;
  background: #102d62;
  color: #ecf4ff;
  font-family: var(--font-pixel);
  font-size: 0.58rem;
  letter-spacing: 0.04em;
  text-align: center;
  text-transform: uppercase;
  padding: 0.34rem 0.45rem;
  box-shadow: 2px 2px 0 var(--shadow-hard);
}

.site-header {
  position: sticky;
  top: 0;
  z-index: 70;
  padding-top: 0.62rem;
  background: linear-gradient(180deg, rgba(20, 34, 73, 0.88), rgba(20, 34, 73, 0));
}

.site-nav {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 0.74rem 0.86rem;
  border: 2px solid #6a95d6;
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(19, 45, 90, 0.96), rgba(13, 33, 69, 0.97));
  box-shadow: 6px 6px 0 var(--shadow-hard);
}

.site-brand {
  display: flex;
  flex-direction: column;
  gap: 0.12rem;
}

.site-title {
  color: var(--text-main);
  display: inline-flex;
  align-items: center;
  gap: 0.48rem;
  width: fit-content;
  text-decoration: none;
}

.site-emblem {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  border: 2px solid #f6f6f6;
  background: radial-gradient(circle at center, #f3ecd7 0 5px, #192f64 6px 7px, transparent 7px),
    linear-gradient(180deg, #ee1515 0 50%, #f6f6f6 50% 100%);
  box-shadow: 0 0 0 2px rgba(24, 51, 97, 0.75);
}

.site-title-kanji {
  font-family: var(--font-display);
  font-size: 1.9rem;
  font-weight: 600;
  line-height: 1;
}

.site-title-roman {
  font-family: var(--font-pixel);
  font-size: 0.56rem;
  letter-spacing: 0.04em;
  color: #d9e6ff;
}

.site-subtitle {
  font-family: var(--font-pixel);
  font-size: 0.54rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: #ffe39a;
}

.nav-links {
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  flex-wrap: wrap;
  gap: 0.38rem;
}

.nav-links li {
  margin: 0;
}

.nav-links a {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  border: 2px solid #5e89ca;
  background: #113067;
  color: #edf4ff;
  font-family: var(--font-pixel);
  font-size: 0.58rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  padding: 0.34rem 0.62rem;
  box-shadow: 2px 2px 0 var(--shadow-hard);
}

.nav-links a:hover,
.nav-links a.active {
  color: #291502;
  background: var(--poke-yellow);
  border-color: #ffedb7;
}

.card-grid {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 0.75rem;
}

.card-grid .entry-card {
  margin: 0;
  padding: 0;
  border: 2px solid #5c87c8;
  border-radius: 10px;
  background: #102d62;
  box-shadow: 4px 4px 0 var(--shadow-hard);
  overflow: hidden;
}

.card-grid .entry-row {
  display: block;
  color: var(--text-main);
  padding: 0.84rem;
}

.card-grid .entry-title {
  display: block;
}

.card-grid .post-description {
  margin-top: 0.34rem;
}

.entry-meta {
  margin-top: 0.58rem;
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.4rem;
}

.entry-type {
  display: inline-flex;
  align-items: center;
  border-radius: 5px;
  border: 1px solid #ffda77;
  background: rgba(255, 203, 5, 0.14);
  color: #ffeab8;
  padding: 0.14rem 0.36rem;
  font-family: var(--font-pixel);
  font-size: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.notes-list {
  display: grid;
  gap: 0.66rem;
}

.note-accordion,
.expandable {
  margin: 0;
  border-radius: 8px;
  border: 2px solid #5b86c8;
  background: #102d62;
  box-shadow: 4px 4px 0 var(--shadow-hard);
  overflow: hidden;
}

.note-summary,
.expandable > summary {
  list-style: none;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.7rem;
  padding: 0.72rem 0.84rem;
  border-bottom: 1px solid #3f65a0;
  color: #ecf4ff;
  font-family: var(--font-pixel);
  font-size: 0.54rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  background: #153a78;
}

.note-summary::-webkit-details-marker,
.expandable > summary::-webkit-details-marker {
  display: none;
}

.note-summary::before,
.expandable > summary::before {
  content: ">";
  color: #ffd972;
  margin-right: 0.28rem;
}

.note-accordion[open] .note-summary::before,
.expandable[open] > summary::before {
  content: "v";
}

.note-title {
  display: inline-block;
}

.note-summary time {
  color: #cadbf8;
  font-family: var(--font-code);
  font-size: 0.67rem;
  text-transform: none;
}

.note-content,
.expandable-content {
  padding: 0.8rem 0.9rem 0.88rem;
}

.note-content > *:last-child,
.expandable-content > *:last-child {
  margin-bottom: 0;
}

.entry-list {
  margin: 0;
  padding: 0;
  list-style: none;
}

.entry-card {
  margin: 0;
  border-bottom: 1px solid rgba(132, 168, 222, 0.48);
  padding: 1.1rem 0;
}

.entry-card:last-child {
  border-bottom: 0;
}

.entry-row {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 1rem;
  color: var(--text-main);
  border-radius: 6px;
  padding: 0.2rem 0.1rem;
}

.entry-row:hover .entry-title {
  color: #fff2c6;
}

.entry-title {
  font-weight: 700;
  color: var(--text-main);
  transition: color 120ms ease;
}

.entry-row time {
  font-family: var(--font-code);
  font-size: 0.72rem;
  color: var(--text-muted);
  white-space: nowrap;
}

.post-description {
  margin: 0.54rem 0 0;
  font-size: 0.95rem;
}

.post-header {
  margin-bottom: var(--space-4);
  padding-bottom: var(--space-3);
  border-bottom: 1px solid rgba(132, 168, 222, 0.46);
}

.section-pill {
  display: inline-flex;
  align-items: center;
  margin-bottom: var(--space-2);
  padding: 0.16rem 0.5rem;
  border-radius: 6px;
  border: 1px solid #ffd773;
  background: rgba(255, 203, 5, 0.12);
  color: #ffe8b5;
  font-family: var(--font-pixel);
  font-size: 0.54rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.post-meta {
  display: inline-flex;
  align-items: center;
  gap: 0.42rem;
  font-family: var(--font-code);
  font-size: 0.74rem;
  color: var(--text-muted);
}

.meta-dot {
  color: #b9ceef;
}

.reading-time {
  color: #d0e0fa;
}

.post-content {
  max-width: 76ch;
}

.post-content > *:last-child {
  margin-bottom: 0;
}

.post-tags {
  margin-top: var(--space-4);
  display: flex;
  flex-wrap: wrap;
  gap: 0.45rem;
}

.tag {
  display: inline-flex;
  align-items: center;
  border-radius: 6px;
  border: 1px solid #6e96d3;
  background: #14376f;
  color: #e8f1ff;
  font-family: var(--font-pixel);
  font-size: 0.56rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  padding: 0.16rem 0.46rem;
}

.tag:hover {
  color: #291502;
  border-color: #ffe9aa;
  background: var(--poke-yellow);
}

.site-footer {
  margin: var(--space-5) auto var(--space-4);
  padding-top: var(--space-3);
  border-top: 2px solid rgba(132, 168, 222, 0.5);
  text-align: center;
}

.site-footer p {
  margin: 0;
  color: var(--text-muted);
  font-size: 0.84rem;
}

.site-footer p + p {
  margin-top: 0.28rem;
}

@keyframes rise {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (max-width: 1100px) {
  .hero-grid {
    grid-template-columns: 1fr;
  }

  .hero-console {
    max-width: 680px;
  }

  .formation-grid {
    grid-template-columns: 1fr;
  }

  .roster-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .card-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 860px) {
  .site-nav {
    flex-direction: column;
    align-items: stretch;
    gap: 0.7rem;
  }

  .nav-links {
    gap: 0.34rem;
  }

  .section-head {
    flex-direction: column;
    align-items: flex-start;
  }

  .roster-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 760px) {
  html {
    font-size: 15px;
  }

  .content,
  .site-nav,
  .site-footer {
    width: min(var(--container), calc(100% - 1.5rem));
  }

  .site-main {
    padding-top: var(--space-4);
  }

  .nav-links a {
    font-size: 0.62rem;
    padding: 0.33rem 0.55rem;
  }

  .entry-row {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.12rem;
  }

  .note-summary,
  .expandable > summary {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.28rem;
  }

  .roster-grid {
    grid-template-columns: 1fr;
  }

  pre {
    font-size: 0.7rem;
  }
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }

  *, *::before, *::after {
    animation-duration: 1ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 1ms !important;
  }
}
